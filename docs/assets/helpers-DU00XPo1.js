import{at as j,a0 as P,au as D,av as F,j as H,aw as V,$ as A,q as x,n as b,ac as N,an as J}from"./index-CqN4tnLD.js";function Y(e){return D()?(F(e),!0):!1}function _(e){return typeof e=="function"?e():H(e)}const X=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const z=e=>typeof e<"u",B=Object.prototype.toString,G=e=>B.call(e)==="[object Object]",C=()=>{};function Q(e){return V()}function k(e,t=!0,n){Q()?j(e,n):t?e():P(e)}function q(e){var t;const n=_(e);return(t=n==null?void 0:n.$el)!=null?t:n}const W=X?window:void 0;function I(...e){let t,n,i,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,o]=e,t=W):[t,n,i,o]=e,!t)return C;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const c=[],u=()=>{c.forEach(d=>d()),c.length=0},l=(d,v,g,s)=>(d.addEventListener(v,g,s),()=>d.removeEventListener(v,g,s)),a=N(()=>[q(t),_(o)],([d,v])=>{if(u(),!d)return;const g=G(v)?{...v}:v;c.push(...n.flatMap(s=>i.map(E=>l(d,s,E,g))))},{immediate:!0,flush:"post"}),f=()=>{a(),u()};return Y(f),f}function U(){const e=b(!1),t=V();return t&&j(()=>{e.value=!0},t),e}function K(e){const t=U();return x(()=>(t.value,!!e()))}function R(e,t={}){const{window:n=W}=t,i=K(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let o;const c=b(!1),u=f=>{c.value=f.matches},l=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",u):o.removeListener(u))},a=J(()=>{i.value&&(l(),o=n.matchMedia(_(e)),"addEventListener"in o?o.addEventListener("change",u):o.addListener(u),c.value=o.matches)});return Y(()=>{a(),l(),o=void 0}),c}function Z(e){return JSON.parse(JSON.stringify(e))}function re(e,t={}){const{threshold:n=50,onSwipe:i,onSwipeEnd:o,onSwipeStart:c,passive:u=!0,window:l=W}=t,a=A({x:0,y:0}),f=A({x:0,y:0}),d=x(()=>a.x-f.x),v=x(()=>a.y-f.y),{max:g,abs:s}=Math,E=x(()=>g(s(d.value),s(v.value))>=n),h=b(!1),T=x(()=>E.value?s(d.value)>s(v.value)?d.value>0?"left":"right":v.value>0?"up":"down":"none"),L=r=>[r.touches[0].clientX,r.touches[0].clientY],M=(r,y)=>{a.x=r,a.y=y},p=(r,y)=>{f.x=r,f.y=y};let m;const w=ee(l==null?void 0:l.document);u?m=w?{passive:!0}:{capture:!1}:m=w?{passive:!1,capture:!0}:{capture:!0};const S=r=>{h.value&&(o==null||o(r,T.value)),h.value=!1},$=[I(e,"touchstart",r=>{if(r.touches.length!==1)return;m.capture&&!m.passive&&r.preventDefault();const[y,O]=L(r);M(y,O),p(y,O),c==null||c(r)},m),I(e,"touchmove",r=>{if(r.touches.length!==1)return;const[y,O]=L(r);p(y,O),!h.value&&E.value&&(h.value=!0),h.value&&(i==null||i(r))},m),I(e,["touchend","touchcancel"],S,m)];return{isPassiveEventSupported:w,isSwiping:h,direction:T,coordsStart:a,coordsEnd:f,lengthX:d,lengthY:v,stop:()=>$.forEach(r=>r())}}function ee(e){if(!e)return!1;let t=!1;const n={get passive(){return t=!0,!1}};return e.addEventListener("x",C,n),e.removeEventListener("x",C),t}function ue(e,t,n,i={}){var o,c,u;const{clone:l=!1,passive:a=!1,eventName:f,deep:d=!1,defaultValue:v,shouldEmit:g}=i,s=V(),E=n||(s==null?void 0:s.emit)||((o=s==null?void 0:s.$emit)==null?void 0:o.bind(s))||((u=(c=s==null?void 0:s.proxy)==null?void 0:c.$emit)==null?void 0:u.bind(s==null?void 0:s.proxy));let h=f;h=h||`update:${t.toString()}`;const T=p=>l?typeof l=="function"?l(p):Z(p):p,L=()=>z(e[t])?T(e[t]):v,M=p=>{g?g(p)&&E(h,p):E(h,p)};if(a){const p=L(),m=b(p);let w=!1;return N(()=>e[t],S=>{w||(w=!0,m.value=T(S),P(()=>w=!1))}),N(m,S=>{!w&&(S!==e[t]||d)&&M(S)},{deep:d}),m}else return x({get(){return L()},set(p){M(p)}})}function ae(e={}){const{window:t=W,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:c=!0}=e,u=b(n),l=b(i),a=()=>{t&&(c?(u.value=t.innerWidth,l.value=t.innerHeight):(u.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight))};if(a(),k(a),I("resize",a,{passive:!0}),o){const f=R("(orientation: portrait)");N(f,()=>a())}return{width:u,height:l}}const te=(e,t)=>e.map(n=>{if(n.children){const i=te(n.children,t);return i.length>0?{...n,children:i}:null}return t(n)?n:null}).filter(n=>n).map(n=>n),ne=(e,t)=>e.map(n=>({...t(n),children:n.children?ne(n.children,t):void 0})),oe=e=>e.reduce((t,n)=>(n.children&&t.push(...oe(n.children)),t.push(n),t),[]);export{oe as a,ae as b,re as c,te as f,ne as m,ue as u};
